{"remainingRequest":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js??ref--9-1!C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\TurboSwap\\TurboSwap.tsx","dependencies":[{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\src\\front\\shared\\pages\\TurboSwap\\TurboSwap.tsx","mtime":1614842914263},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexei\\MultiCurrencyWallet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZCI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9kZWMsIF9kZWMyLCBfY2xhc3MsIF90ZW1wOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgppbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFN3YXAgZnJvbSAnc3dhcC5zd2FwJzsKaW1wb3J0IFN3YXBBcHAgZnJvbSAnc3dhcC5hcHAnOwppbXBvcnQgY3NzTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcyc7CmltcG9ydCBzdHlsZXMgZnJvbSAnLi9UdXJib1N3YXAuc2Nzcyc7CmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWRhY3Rpb24nOwppbXBvcnQgaGVscGVycywgeyBsaW5rcywgY29uc3RhbnRzIH0gZnJvbSAnaGVscGVycyc7CmltcG9ydCBhY3Rpb25zIGZyb20gJ3JlZHV4L2FjdGlvbnMnOwppbXBvcnQgeyBpbmplY3RJbnRsLCBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7CmltcG9ydCB7IGxvY2FsaXNlZFVybCB9IGZyb20gJ2hlbHBlcnMvbG9jYWxlJzsKaW1wb3J0IGZlZWRiYWNrIGZyb20gJ3NoYXJlZC9oZWxwZXJzL2ZlZWRiYWNrJzsKaW1wb3J0IHsgU3dhcFN0YXR1cywgU3dhcFR4U3RhdHVzIH0gZnJvbSAnY29tbW9uL2RvbWFpbi9zd2FwJzsKaW1wb3J0IFR4U2lkZSBmcm9tICcuL1R4U2lkZSc7CmltcG9ydCBUeCBmcm9tICcuL1R4JzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnY29tcG9uZW50cy9jb250cm9scyc7CnZhciBUdXJib1N3YXAgPSAoX2RlYyA9IGNvbm5lY3QoZnVuY3Rpb24gKF9yZWYpIHsKICB2YXIgcGVlciA9IF9yZWYucHVic3ViUm9vbS5wZWVyLAogICAgICByZW1lbWJlcmVkT3JkZXJzID0gX3JlZi5yZW1lbWJlcmVkT3JkZXJzOwogIHJldHVybiB7Ly9pdGVtczogW2V0aERhdGEsIGJ0Y0RhdGEsIGdob3N0RGF0YSwgbmV4dERhdGFdLAogICAgLy9jdXJyZW5jaWVzRGF0YTogW2V0aERhdGEsIGJ0Y0RhdGEsIGdob3N0RGF0YSwgbmV4dERhdGFdLAogICAgLy90b2tlbnNEYXRhOiBbLi4uT2JqZWN0LmtleXModG9rZW5zRGF0YSkubWFwKGsgPT4gKHRva2Vuc0RhdGFba10pKV0sCiAgICAvL3NhdmVkT3JkZXJzOiByZW1lbWJlcmVkT3JkZXJzLnNhdmVkT3JkZXJzLAogICAgLy9kZWxldGVkT3JkZXJzOiByZW1lbWJlcmVkT3JkZXJzLmRlbGV0ZWRPcmRlcnMsCiAgICAvL3BlZXIsCiAgfTsKfSksIF9kZWMyID0gY3NzTW9kdWxlcyhzdHlsZXMsIHsKICBhbGxvd011bHRpcGxlOiB0cnVlCn0pLCBpbmplY3RJbnRsKF9jbGFzcyA9IF9kZWMoX2NsYXNzID0gX2RlYzIoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUHVyZUNvbXBvbmVudCkgewogIF9pbmhlcml0cyhUdXJib1N3YXAsIF9QdXJlQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUdXJib1N3YXApOwoKICAvKg0KICAgIGNoZWNraW5nQ29uZmlybVN1Y2Nlc3NUaW1lcjogYW55DQogICAgY2hlY2tpbmdDeWNsZVRpbWVyOiBhbnkqLwogIGZ1bmN0aW9uIFR1cmJvU3dhcChwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUdXJib1N3YXApOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhpc3RvcnkiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnb1RvV2FsbGV0IiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5oaXN0b3J5LnB1c2gobGlua3Mud2FsbGV0KTsKICAgIH0pOwoKICAgIHZhciBoaXN0b3J5ID0gcHJvcHMuaGlzdG9yeTsKICAgIF90aGlzLmhpc3RvcnkgPSBoaXN0b3J5OwogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIHN3YXA6IG51bGwsCiAgICAgIGZsb3dTdGF0ZTogbnVsbAogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUdXJib1N3YXAsIFt7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgaXRlbXMgPSBfdGhpcyRwcm9wcy5pdGVtcywKICAgICAgICAgIGN1cnJlbmNpZXNEYXRhID0gX3RoaXMkcHJvcHMuY3VycmVuY2llc0RhdGEsCiAgICAgICAgICB0b2tlbnNEYXRhID0gX3RoaXMkcHJvcHMudG9rZW5zRGF0YSwKICAgICAgICAgIGxvY2FsZSA9IF90aGlzJHByb3BzLmludGwubG9jYWxlOwogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcywKICAgICAgICAgIG9yZGVySWQgPSBfdGhpcyRwcm9wczIubWF0Y2gucGFyYW1zLm9yZGVySWQsCiAgICAgICAgICBoaXN0b3J5ID0gX3RoaXMkcHJvcHMyLmhpc3Rvcnk7CgogICAgICBpZiAoIW9yZGVySWQpIHsKICAgICAgICBoaXN0b3J5LnB1c2gobG9jYWxpc2VkVXJsKGxpbmtzLmV4Y2hhbmdlKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIHZhciBzd2FwID0gbmV3IFN3YXAob3JkZXJJZCwgU3dhcEFwcC5zaGFyZWQoKSk7CiAgICAgICAgY29uc29sZS5sb2coIkZyb250IHVzZXMgZmxvdyAiLmNvbmNhdChzd2FwLmZsb3cuX2Zsb3dOYW1lKSk7CiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzd2FwOiBzd2FwLAogICAgICAgICAgICBmbG93U3RhdGU6IHN3YXAuZmxvdy5zdGF0ZQogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGZsb3dTdGF0ZTogc3dhcC5mbG93LnN0YXRlCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICB9LCAzMDApOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIGFjdGlvbnMubm90aWZpY2F0aW9ucy5zaG93KGNvbnN0YW50cy5ub3RpZmljYXRpb25zLkVycm9yTm90aWZpY2F0aW9uLCB7CiAgICAgICAgICBlcnJvcjogJ1NvcnJ5LCBidXQgdGhpcyBvcmRlciBkbyBub3QgZXhzaXQgYWxyZWFkeScKICAgICAgICB9KTsKICAgICAgICB0aGlzLnByb3BzLmhpc3RvcnkucHVzaChsb2NhbGlzZWRVcmwobGlua3MuZXhjaGFuZ2UpKTsKICAgICAgfQogICAgICAvKmlmICghdGhpcy5wcm9wcy5zYXZlZE9yZGVycy5pbmNsdWRlcyhvcmRlcklkKSkgew0KICAgICAgICB0aGlzLnNldFNhdmVTd2FwSWQob3JkZXJJZCkNCiAgICAgIH0qLwoKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHZhciBzd2FwID0gdGhpcy5zdGF0ZS5zd2FwOwoKICAgICAgX29iamVjdERlc3RydWN0dXJpbmdFbXB0eSh0aGlzLnByb3BzKTsKICAgICAgLyogICAgaWYgKHN3YXAgIT09IG51bGwpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaGVja2luZ0N5Y2xlJykNCiAgICAgIA0KICAgICAgICAgICAgY29uc3QgY2hlY2tpbmdDeWNsZSA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgIA0KICAgICAgICAgICAgICBpZiAoaXNGaW5hbGx5RmluaXNoZWQpIHsNCiAgICAgICAgICAgICAgICBmZWVkYmFjay5zd2FwLmZpbmlzaGVkKCkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBpZiAoaXNTdG9wcGVkU3dhcCkgew0KICAgICAgICAgICAgICAgIGZlZWRiYWNrLnN3YXAuc3RvcHBlZCgpDQogICAgICAgICAgICAgIH0NCiAgICAgIA0KICAgICAgICAgICAgICBpZiAoaXNGaW5hbGx5RmluaXNoZWQgfHwgaXNTdG9wcGVkU3dhcCkgew0KICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tpbmdDeWNsZSkNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgfQ0KICAgICAgDQogICAgICAgICAgICAgIHRoaXMuaXNCYWxhbmNlRW5vdWdoKCkNCiAgICAgICAgICAgIH0sIDUwMDApDQogICAgICAgICAgfSovCgoKICAgICAgZmVlZGJhY2suc3dhcC5zdGFydGVkKEpTT04uc3RyaW5naWZ5KHsvLyB0b2RvCiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsVW5tb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7CiAgICAgIC8qY2xlYXJJbnRlcnZhbCh0aGlzLmNoZWNraW5nQ3ljbGVUaW1lcikNCiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNoZWNraW5nQ29uZmlybVN1Y2Nlc3NUaW1lcikqLwogICAgfQogICAgLyogIHNhdmVUaGlzU3dhcCA9IChvcmRlcklkKSA9PiB7DQogICAgICAgIGFjdGlvbnMuY29yZS5yZW1lbWJlck9yZGVyKG9yZGVySWQpDQogICAgICB9DQogICAgDQogICAgICBkZWxldGVUaGlzU3dhcCA9IChvcmRlcklkKSA9PiB7DQogICAgICAgIGFjdGlvbnMuY29yZS5zYXZlRGVsZXRlZE9yZGVyKG9yZGVySWQpDQogICAgICAgIGFjdGlvbnMuY29yZS5mb3JnZXRPcmRlcnMob3JkZXJJZCkNCiAgICAgICAgd2luZG93LnN3YXAgPSBudWxsDQogICAgICB9DQogICAgDQogICAgICBzZXRTYXZlU3dhcElkID0gKG9yZGVySWQpID0+IHsNCiAgICAgICAgbGV0IHN3YXBzSWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzd2FwSWQnKSkNCiAgICANCiAgICAgICAgaWYgKHN3YXBzSWQgPT09IG51bGwgfHwgc3dhcHNJZC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICBzd2Fwc0lkID0gW10NCiAgICAgICAgfQ0KICAgICAgICBpZiAoIXN3YXBzSWQuaW5jbHVkZXMob3JkZXJJZCkpIHsNCiAgICAgICAgICBzd2Fwc0lkLnB1c2gob3JkZXJJZCkNCiAgICAgICAgfQ0KICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3dhcElkJywgSlNPTi5zdHJpbmdpZnkoc3dhcHNJZCkpDQogICAgICB9DQogICAgKi8KCiAgICAvKmlzQmFsYW5jZUVub3VnaCA9ICgpID0+IHsNCiAgICAgIC8vLi4uDQogICAgfSovCgogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcywKICAgICAgICAgIHBlZXIgPSBfdGhpcyRwcm9wczMucGVlciwKICAgICAgICAgIGhpc3RvcnkgPSBfdGhpcyRwcm9wczMuaGlzdG9yeSwKICAgICAgICAgIGxvY2FsZSA9IF90aGlzJHByb3BzMy5pbnRsLmxvY2FsZTsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIHN3YXAgPSBfdGhpcyRzdGF0ZS5zd2FwLAogICAgICAgICAgZmxvd1N0YXRlID0gX3RoaXMkc3RhdGUuZmxvd1N0YXRlOwogICAgICB2YXIgc2VsbEN1cnJlbmN5S2V5ID0gc3dhcC5zZWxsQ3VycmVuY3kudG9Mb3dlckNhc2UoKTsKICAgICAgdmFyIGJ1eUN1cnJlbmN5S2V5ID0gc3dhcC5idXlDdXJyZW5jeS50b0xvd2VyQ2FzZSgpOwogICAgICB2YXIgbXlBZGRyZXNzU2VuZCA9IHN3YXAuYXBwLnNlcnZpY2VzLmF1dGguYWNjb3VudHNbc2VsbEN1cnJlbmN5S2V5XS5hZGRyZXNzIHx8IHN3YXAuYXBwLnNlcnZpY2VzLmF1dGguYWNjb3VudHNbc2VsbEN1cnJlbmN5S2V5XS5nZXRBZGRyZXNzKCk7CiAgICAgIHZhciBteUFkZHJlc3NSZWNlaXZlID0gc3dhcC5hcHAuc2VydmljZXMuYXV0aC5hY2NvdW50c1tidXlDdXJyZW5jeUtleV0uYWRkcmVzcyB8fCBzd2FwLmFwcC5zZXJ2aWNlcy5hdXRoLmFjY291bnRzW2J1eUN1cnJlbmN5S2V5XS5nZXRBZGRyZXNzKCk7CiAgICAgIHZhciBwYXJ0aWNpcGFudEFkZHJlc3NTZW5kID0gc3dhcC5wYXJ0aWNpcGFudFtidXlDdXJyZW5jeUtleV0uYWRkcmVzczsKICAgICAgdmFyIHBhcnRpY2lwYW50QWRkcmVzc1JlY2VpdmUgPSBzd2FwLnBhcnRpY2lwYW50W3NlbGxDdXJyZW5jeUtleV0uYWRkcmVzczsgLy9jb25zdCBpc1Rva2VuID0gaGVscGVycy5ldGhUb2tlbi5pc0V0aFRva2VuKHsgbmFtZTogY3VycmVuY3kgfSkKCiAgICAgIHZhciBzd2FwSWRTaG9ydGVuZWQgPSBzd2FwLmlkLnNwbGl0KCctJykubWFwKGZ1bmN0aW9uIChwYXJ0KSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHBhcnQpIHx8IHBhcnQuc3BsaXQoJycpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBsZXR0ZXIsIGluZGV4KSB7CiAgICAgICAgICBpZiAoWzAsIDEsIDIsIDMsIHBhcnQubGVuZ3RoIC0gNCwgcGFydC5sZW5ndGggLSAzLCBwYXJ0Lmxlbmd0aCAtIDIsIHBhcnQubGVuZ3RoIC0gMV0uaW5jbHVkZXMoaW5kZXgpKSByZXR1cm4gYWNjICsgbGV0dGVyOwogICAgICAgICAgaWYgKGluZGV4ID09PSA0KSByZXR1cm4gYWNjICsgJ+KApic7CiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0sICcnKTsKICAgICAgfSkuam9pbignLScpOwogICAgICB2YXIgdGFrZXJUeCA9IHsKICAgICAgICBhbW91bnQ6IHN3YXAuaXNNeSA/IHN3YXAuYnV5QW1vdW50IDogc3dhcC5zZWxsQW1vdW50LAogICAgICAgIGN1cnJlbmN5OiBzd2FwLmlzTXkgPyBzd2FwLmJ1eUN1cnJlbmN5IDogc3dhcC5zZWxsQ3VycmVuY3ksCiAgICAgICAgaGFzaDogZmxvd1N0YXRlLnRha2VyVHhIYXNoLAogICAgICAgIHN0YXR1czogIWZsb3dTdGF0ZS50YWtlclR4SGFzaCA/IFN3YXBUeFN0YXR1cy5FeHBlY3RlZCA6ICFmbG93U3RhdGUuaXNUYWtlclR4UGVuZGVkID8gU3dhcFR4U3RhdHVzLlBlbmRpbmcgOiBTd2FwVHhTdGF0dXMuRG9uZSwKICAgICAgICB1cmw6IG51bGwKICAgICAgfTsKICAgICAgdGFrZXJUeC51cmwgPSB0YWtlclR4Lmhhc2ggPyBoZWxwZXJzLnRyYW5zYWN0aW9ucy5nZXRMaW5rKHRha2VyVHguY3VycmVuY3kudG9Mb3dlckNhc2UoKSwgdGFrZXJUeC5oYXNoKSA6IG51bGw7CiAgICAgIHZhciBtYWtlclR4ID0gewogICAgICAgIGFtb3VudDogc3dhcC5pc015ID8gc3dhcC5zZWxsQW1vdW50IDogc3dhcC5idXlBbW91bnQsCiAgICAgICAgY3VycmVuY3k6IHN3YXAuaXNNeSA/IHN3YXAuc2VsbEN1cnJlbmN5IDogc3dhcC5idXlDdXJyZW5jeSwKICAgICAgICBoYXNoOiBmbG93U3RhdGUubWFrZXJUeEhhc2gsCiAgICAgICAgc3RhdHVzOiAhZmxvd1N0YXRlLm1ha2VyVHhIYXNoID8gU3dhcFR4U3RhdHVzLkV4cGVjdGVkIDogIWZsb3dTdGF0ZS5pc01ha2VyVHhQZW5kZWQgPyBTd2FwVHhTdGF0dXMuUGVuZGluZyA6IFN3YXBUeFN0YXR1cy5Eb25lLAogICAgICAgIHVybDogbnVsbAogICAgICB9OwogICAgICBtYWtlclR4LnVybCA9IG1ha2VyVHguaGFzaCA/IGhlbHBlcnMudHJhbnNhY3Rpb25zLmdldExpbmsobWFrZXJUeC5jdXJyZW5jeS50b0xvd2VyQ2FzZSgpLCBtYWtlclR4Lmhhc2gpIDogbnVsbDsKICAgICAgdmFyIHN3YXBTdGF0dXMgPSAhZmxvd1N0YXRlLmlzRmluaXNoZWQgPyBTd2FwU3RhdHVzLlBlbmRpbmcgOiBTd2FwU3RhdHVzLkZpbmlzaGVkOwogICAgICB2YXIgaTE4bl95b3UgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJUdXJib1N3YXBfWW91IiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIllvdSIKICAgICAgfSk7CiAgICAgIHZhciBpMThuX21ha2VyID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiVHVyYm9Td2FwX01ha2VyIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIk1ha2VyIgogICAgICB9KTsKICAgICAgdmFyIGkxOG5fdGFrZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJUdXJib1N3YXBfVGFrZXIiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVGFrZXIiCiAgICAgIH0pOwogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJ0dXJib1N3YXAiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoMSIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJwYWdlVGl0bGUiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogIlR1cmJvU3dhcF9UaXRsZSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUdXJibyBzd2FwIgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic3dhcElkIgogICAgICB9LCAiIyIsIHN3YXBJZFNob3J0ZW5lZCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAic3dhcFN0YXR1cyAiLmNvbmNhdChzd2FwU3RhdHVzKQogICAgICB9LCBzd2FwU3RhdHVzID09PSBTd2FwU3RhdHVzLlBlbmRpbmcgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiVHVyYm9Td2FwX1N0YXR1c1BlbmRpbmciLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUGVuZGluZy4uLiIKICAgICAgfSksIHN3YXBTdGF0dXMgPT09IFN3YXBTdGF0dXMuRmluaXNoZWQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAiVHVyYm9Td2FwX1N0YXR1c0ZpbmlzaGVkIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkZpbmlzaGVkLi4uIgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGVOYW1lOiAiYmxvY2tjaGFpbiIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHhTaWRlLCB7CiAgICAgICAgdGl0bGU6IHN3YXAuaXNNeSA/IGkxOG5fdGFrZXIgOiBpMThuX3lvdSwKICAgICAgICBpc1RpdGxlSGlnaGxpZ2h0ZWQ6ICFzd2FwLmlzTXksCiAgICAgICAgYWRkcmVzczogc3dhcC5pc015ID8gcGFydGljaXBhbnRBZGRyZXNzU2VuZCA6IG15QWRkcmVzc1NlbmQKICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFR4LCB7CiAgICAgICAgYW1vdW50OiB0YWtlclR4LmFtb3VudCwKICAgICAgICB0aWNrZXI6IHRha2VyVHguY3VycmVuY3ksCiAgICAgICAgaWQ6IHRha2VyVHguaGFzaCwKICAgICAgICB1cmw6IHRha2VyVHgudXJsLAogICAgICAgIGRpcmVjdGlvbjogJ3JpZ2h0JywKICAgICAgICBzdGF0dXM6IHRha2VyVHguc3RhdHVzCiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeFNpZGUsIHsKICAgICAgICB0aXRsZTogc3dhcC5pc015ID8gaTE4bl95b3UgOiBpMThuX21ha2VyLAogICAgICAgIGlzVGl0bGVIaWdobGlnaHRlZDogc3dhcC5pc015LAogICAgICAgIGFkZHJlc3M6IHN3YXAuaXNNeSA/IG15QWRkcmVzc1JlY2VpdmUgOiBwYXJ0aWNpcGFudEFkZHJlc3NSZWNlaXZlCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJibG9ja2NoYWluIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeFNpZGUsIHsKICAgICAgICB0aXRsZTogc3dhcC5pc015ID8gaTE4bl90YWtlciA6IGkxOG5feW91LAogICAgICAgIGlzVGl0bGVIaWdobGlnaHRlZDogIXN3YXAuaXNNeSwKICAgICAgICBhZGRyZXNzOiBzd2FwLmlzTXkgPyBwYXJ0aWNpcGFudEFkZHJlc3NSZWNlaXZlIDogbXlBZGRyZXNzUmVjZWl2ZQogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHgsIHsKICAgICAgICBhbW91bnQ6IG1ha2VyVHguYW1vdW50LAogICAgICAgIHRpY2tlcjogbWFrZXJUeC5jdXJyZW5jeSwKICAgICAgICBpZDogbWFrZXJUeC5oYXNoLAogICAgICAgIHVybDogbWFrZXJUeC51cmwsCiAgICAgICAgZGlyZWN0aW9uOiAnbGVmdCcsCiAgICAgICAgc3RhdHVzOiBtYWtlclR4LnN0YXR1cwogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHhTaWRlLCB7CiAgICAgICAgdGl0bGU6IHN3YXAuaXNNeSA/IGkxOG5feW91IDogaTE4bl9tYWtlciwKICAgICAgICBpc1RpdGxlSGlnaGxpZ2h0ZWQ6IHN3YXAuaXNNeSwKICAgICAgICBhZGRyZXNzOiBzd2FwLmlzTXkgPyBteUFkZHJlc3NTZW5kIDogcGFydGljaXBhbnRBZGRyZXNzU2VuZAogICAgICB9KSksIHN3YXBTdGF0dXMgPT09IFN3YXBTdGF0dXMuRmluaXNoZWQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZU5hbWU6ICJjaGVja0JhbGFuY2VCdXR0b25XcmFwcGVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgICAgICBicmFuZDogdHJ1ZSwKICAgICAgICBvbkNsaWNrOiB0aGlzLmdvVG9XYWxsZXQKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAic3dhcFByb2dyZXNzR29Ub1dhbGxldCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDaGVjayBiYWxhbmNlIgogICAgICB9KSkpLCBmYWxzZSAmJgogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIC8vZGVidWcKICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiY29kZSIsIG51bGwsIEpTT04uc3RyaW5naWZ5KGZsb3dTdGF0ZSwgbnVsbCwgMikpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBUdXJib1N3YXA7Cn0oUHVyZUNvbXBvbmVudCksIF90ZW1wKSkgfHwgX2NsYXNzKSB8fCBfY2xhc3MpIHx8IF9jbGFzcyk7CmV4cG9ydCB7IFR1cmJvU3dhcCBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/Alexei/MultiCurrencyWallet/src/front/shared/pages/TurboSwap/TurboSwap.tsx"],"names":["React","PureComponent","Swap","SwapApp","cssModules","styles","connect","helpers","links","constants","actions","injectIntl","FormattedMessage","localisedUrl","feedback","SwapStatus","SwapTxStatus","TxSide","Tx","Button","TurboSwap","peer","pubsubRoom","rememberedOrders","allowMultiple","props","history","push","wallet","state","swap","flowState","items","currenciesData","tokensData","locale","intl","orderId","match","params","exchange","shared","console","log","flow","_flowName","setState","setInterval","error","notifications","show","ErrorNotification","started","JSON","stringify","sellCurrencyKey","sellCurrency","toLowerCase","buyCurrencyKey","buyCurrency","myAddressSend","app","services","auth","accounts","address","getAddress","myAddressReceive","participantAddressSend","participant","participantAddressReceive","swapIdShortened","id","split","map","part","parseInt","reduce","acc","letter","index","length","includes","join","takerTx","amount","isMy","buyAmount","sellAmount","currency","hash","takerTxHash","status","Expected","isTakerTxPended","Pending","Done","url","transactions","getLink","makerTx","makerTxHash","isMakerTxPended","swapStatus","isFinished","Finished","i18n_you","i18n_maker","i18n_taker","goToWallet"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport Swap from 'swap.swap'\r\nimport SwapApp from 'swap.app'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './TurboSwap.scss'\r\n\r\nimport { connect } from 'redaction'\r\nimport helpers, { links, constants } from 'helpers'\r\nimport request from 'common/utils/request'\r\nimport actions from 'redux/actions'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\nimport config from 'app-config'\r\n\r\nimport { SwapSide, SwapStatus, SwapTxStatus } from 'common/domain/swap'\r\nimport TxSide from './TxSide'\r\nimport Tx from './Tx'\r\n\r\nimport { Button } from 'components/controls'\r\n\r\n\r\ninterface ITurboSwapState {\r\n  swap: Swap,\r\n  flowState: any,\r\n}\r\n\r\n@injectIntl\r\n@connect(({\r\n/*  user: {\r\n    ethData,\r\n    btcData,\r\n    ghostData,\r\n    nextData,\r\n    tokensData,\r\n  },*/\r\n  pubsubRoom: { peer },\r\n  rememberedOrders,\r\n}) => ({\r\n  //items: [ethData, btcData, ghostData, nextData],\r\n  //currenciesData: [ethData, btcData, ghostData, nextData],\r\n  //tokensData: [...Object.keys(tokensData).map(k => (tokensData[k]))],\r\n  //savedOrders: rememberedOrders.savedOrders,\r\n  //deletedOrders: rememberedOrders.deletedOrders,\r\n  //peer,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class TurboSwap extends PureComponent<any, ITurboSwapState> {\r\n\r\n/*\r\n  checkingConfirmSuccessTimer: any\r\n  checkingCycleTimer: any*/\r\n\r\n  history = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { history } = props\r\n    this.history = history\r\n\r\n    this.state = {\r\n      swap: null,\r\n      flowState: null,\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const {\r\n      items,\r\n      currenciesData,\r\n      tokensData,\r\n      intl: {\r\n        locale\r\n      },\r\n      //deletedOrders\r\n    } = this.props\r\n\r\n    let { match: { params: { orderId } }, history } = this.props\r\n\r\n    if (!orderId) {\r\n      history.push(localisedUrl(links.exchange))\r\n      return\r\n    }\r\n\r\n    try {\r\n      const swap = new Swap(orderId, SwapApp.shared())\r\n      console.log(`Front uses flow ${swap.flow._flowName}`);\r\n\r\n      this.setState(() => ({\r\n        swap,\r\n        flowState: swap.flow.state\r\n      }))\r\n\r\n      setInterval(() => {\r\n        this.setState(() => ({\r\n          flowState: swap.flow.state\r\n        }))\r\n      }, 300)\r\n\r\n    } catch (error) {\r\n      console.error(error)\r\n      actions.notifications.show(constants.notifications.ErrorNotification, {\r\n        error: 'Sorry, but this order do not exsit already'\r\n      })\r\n      this.props.history.push(localisedUrl(links.exchange))\r\n    }\r\n\r\n    /*if (!this.props.savedOrders.includes(orderId)) {\r\n      this.setSaveSwapId(orderId)\r\n    }*/\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { swap, /*deletedOrders*/ } = this.state\r\n\r\n    const { /*match: { params: { orderId } }, savedOrders*/ } = this.props\r\n\r\n/*    if (swap !== null) {\r\n      console.log('checkingCycle')\r\n\r\n      const checkingCycle = setInterval(() => {\r\n\r\n        if (isFinallyFinished) {\r\n          feedback.swap.finished()\r\n        }\r\n        if (isStoppedSwap) {\r\n          feedback.swap.stopped()\r\n        }\r\n\r\n        if (isFinallyFinished || isStoppedSwap) {\r\n          clearInterval(checkingCycle)\r\n          return\r\n        }\r\n\r\n        this.isBalanceEnough()\r\n      }, 5000)\r\n    }*/\r\n\r\n    feedback.swap.started(JSON.stringify({\r\n      // todo\r\n    }))\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    /*clearInterval(this.checkingCycleTimer)\r\n    clearTimeout(this.checkingConfirmSuccessTimer)*/\r\n  }\r\n\r\n\r\n\r\n/*  saveThisSwap = (orderId) => {\r\n    actions.core.rememberOrder(orderId)\r\n  }\r\n\r\n  deleteThisSwap = (orderId) => {\r\n    actions.core.saveDeletedOrder(orderId)\r\n    actions.core.forgetOrders(orderId)\r\n    window.swap = null\r\n  }\r\n\r\n  setSaveSwapId = (orderId) => {\r\n    let swapsId = JSON.parse(localStorage.getItem('swapId'))\r\n\r\n    if (swapsId === null || swapsId.length === 0) {\r\n      swapsId = []\r\n    }\r\n    if (!swapsId.includes(orderId)) {\r\n      swapsId.push(orderId)\r\n    }\r\n    localStorage.setItem('swapId', JSON.stringify(swapsId))\r\n  }\r\n*/\r\n\r\n  /*isBalanceEnough = () => {\r\n    //...\r\n  }*/\r\n\r\n  goToWallet = () => {\r\n    this.history.push(links.wallet)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      peer,\r\n      history,\r\n      intl: { locale }\r\n    } = this.props\r\n\r\n    const {\r\n      swap,\r\n      flowState,\r\n    } = this.state\r\n\r\n    const sellCurrencyKey = swap.sellCurrency.toLowerCase()\r\n    const buyCurrencyKey = swap.buyCurrency.toLowerCase()\r\n\r\n    const myAddressSend =\r\n      swap.app.services.auth.accounts[sellCurrencyKey].address ||\r\n      swap.app.services.auth.accounts[sellCurrencyKey].getAddress()\r\n\r\n    const myAddressReceive =\r\n      swap.app.services.auth.accounts[buyCurrencyKey].address ||\r\n      swap.app.services.auth.accounts[buyCurrencyKey].getAddress()\r\n\r\n    const participantAddressSend = swap.participant[buyCurrencyKey].address\r\n    const participantAddressReceive = swap.participant[sellCurrencyKey].address\r\n\r\n    //const isToken = helpers.ethToken.isEthToken({ name: currency })\r\n\r\n    const swapIdShortened = swap.id\r\n      .split('-').map(part =>\r\n        parseInt(part) || part\r\n          .split('')\r\n          .reduce((acc, letter, index) => {\r\n            if ([\r\n              0, 1, 2, 3,\r\n              part.length-4, part.length-3, part.length-2, part.length-1\r\n            ].includes(index))\r\n              return acc + letter\r\n            if (index === 4)\r\n              return acc + 'â€¦'\r\n            return acc\r\n          }, '')\r\n      ).join('-')\r\n\r\n\r\n    const takerTx = {\r\n      amount: swap.isMy ? swap.buyAmount : swap.sellAmount,\r\n      currency: swap.isMy ? swap.buyCurrency : swap.sellCurrency,\r\n      hash: flowState.takerTxHash,\r\n      status: !flowState.takerTxHash ?\r\n        SwapTxStatus.Expected\r\n        :\r\n        !flowState.isTakerTxPended ?\r\n          SwapTxStatus.Pending\r\n          :\r\n          SwapTxStatus.Done,\r\n      url: null,\r\n    }\r\n    takerTx.url = takerTx.hash ? helpers.transactions.getLink(takerTx.currency.toLowerCase(), takerTx.hash) : null\r\n\r\n    const makerTx = {\r\n      amount: swap.isMy ? swap.sellAmount : swap.buyAmount,\r\n      currency: swap.isMy ? swap.sellCurrency : swap.buyCurrency,\r\n      hash: flowState.makerTxHash,\r\n      status: !flowState.makerTxHash ?\r\n        SwapTxStatus.Expected\r\n        :\r\n        !flowState.isMakerTxPended ?\r\n          SwapTxStatus.Pending\r\n          :\r\n          SwapTxStatus.Done,\r\n      url: null,\r\n    }\r\n    makerTx.url = makerTx.hash ? helpers.transactions.getLink(makerTx.currency.toLowerCase(), makerTx.hash) : null\r\n\r\n\r\n    const swapStatus: SwapStatus = !flowState.isFinished ? SwapStatus.Pending : SwapStatus.Finished\r\n\r\n    const i18n_you = <FormattedMessage id=\"TurboSwap_You\" defaultMessage=\"You\" />\r\n    const i18n_maker = <FormattedMessage id=\"TurboSwap_Maker\" defaultMessage=\"Maker\" />\r\n    const i18n_taker = <FormattedMessage id=\"TurboSwap_Taker\" defaultMessage=\"Taker\" />\r\n\r\n    return (\r\n      <div styleName=\"turboSwap\">\r\n        <h1 styleName=\"pageTitle\">\r\n          <FormattedMessage id=\"TurboSwap_Title\" defaultMessage=\"Turbo swap\" />\r\n        </h1>\r\n        <div styleName=\"swapId\">#{swapIdShortened}</div>\r\n        <div styleName={`swapStatus ${swapStatus}`}>\r\n          {swapStatus === SwapStatus.Pending &&\r\n            <FormattedMessage id=\"TurboSwap_StatusPending\" defaultMessage=\"Pending...\" />\r\n          }\r\n          {swapStatus === SwapStatus.Finished &&\r\n            <FormattedMessage id=\"TurboSwap_StatusFinished\" defaultMessage=\"Finished...\" />\r\n          }\r\n        </div>\r\n        <div styleName=\"blockchain\">\r\n          <TxSide\r\n            title={swap.isMy ? i18n_taker : i18n_you}\r\n            isTitleHighlighted={!swap.isMy}\r\n            address={swap.isMy ? participantAddressSend : myAddressSend}\r\n          />\r\n          <Tx\r\n            amount={takerTx.amount}\r\n            ticker={takerTx.currency}\r\n            id={takerTx.hash}\r\n            url={takerTx.url}\r\n            direction={'right'}\r\n            status={takerTx.status}\r\n          />\r\n          <TxSide\r\n            title={swap.isMy ? i18n_you : i18n_maker}\r\n            isTitleHighlighted={swap.isMy}\r\n            address={swap.isMy ? myAddressReceive : participantAddressReceive}\r\n          />\r\n        </div>\r\n        <div styleName=\"blockchain\">\r\n          <TxSide\r\n            title={swap.isMy ? i18n_taker : i18n_you}\r\n            isTitleHighlighted={!swap.isMy}\r\n            address={swap.isMy ? participantAddressReceive : myAddressReceive}\r\n          />\r\n          <Tx\r\n            amount={makerTx.amount}\r\n            ticker={makerTx.currency}\r\n            id={makerTx.hash}\r\n            url={makerTx.url}\r\n            direction={'left'}\r\n            status={makerTx.status}\r\n          />\r\n          <TxSide\r\n            title={swap.isMy ? i18n_you : i18n_maker}\r\n            isTitleHighlighted={swap.isMy}\r\n            address={swap.isMy ? myAddressSend : participantAddressSend}\r\n          />\r\n        </div>\r\n\r\n        {swapStatus === SwapStatus.Finished &&\r\n          <div styleName=\"checkBalanceButtonWrapper\">\r\n            <Button brand onClick={this.goToWallet}><FormattedMessage id=\"swapProgressGoToWallet\" defaultMessage=\"Check balance\" /></Button>\r\n          </div>\r\n        }\r\n\r\n        {false && //debug\r\n          <code>\r\n            {JSON.stringify(flowState, null, 2)}\r\n          </code>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}]}