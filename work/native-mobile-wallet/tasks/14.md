---
status: planned
depends_on: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]
wave: 8
skills: ["pre-deploy-qa"]
verify: bash
reviewers: []
---

# Task 14: Pre-deploy QA

## Required Skills

Before starting, load:
- `/skill:pre-deploy-qa` — [~/.claude/skills/pre-deploy-qa/SKILL.md](~/.claude/skills/pre-deploy-qa/SKILL.md)

## Description

Run all tests (unit + integration + E2E), verify acceptance criteria from user-spec and tech-spec, build release APK.

## What to do

1. Run: ./gradlew test — verify all unit tests pass
2. Run: ./gradlew connectedAndroidTest — verify all instrumented tests pass
3. Run: ./gradlew assembleRelease — build release APK with ProGuard/R8
4. Verify acceptance criteria from tech-spec:
   - Cross-platform address validation passes (import known mnemonic → addresses match web)
   - network_security_config.xml present with cleartextTrafficPermitted=false
   - WebView security settings applied (Decision 9)
   - Auto-lock works (5min inactivity, 30s background)
   - FLAG_SECURE on mnemonic screens
   - No secrets in Crashlytics logs
   - App password minimum 8 characters
   - wallet_addEthereumChain rejects unknown chain IDs
   - eth_sign rejected
   - Domain policy blocks unknown domains
5. Document any deviations from spec in decisions.md
6. Build release APK and verify it installs on Android 8.0+ device

## Acceptance Criteria

- [ ] All unit tests pass
- [ ] Implementation matches tech-spec requirements
- [ ] No security vulnerabilities introduced
- [ ] Code follows Android best practices

## Context Files

- [user-spec.md](../user-spec.md)
- [tech-spec.md](../tech-spec.md)
- [android/](../../android/)

## Verification Steps

1. Run: `cd android && ./gradlew test`
2. Expected: All tests pass
3. Verify implementation matches requirements from tech-spec

## Details

See tech-spec for complete implementation details for this task.

## Reviewers


## Post-completion

- [ ] Write report to decisions.md (include all review rounds with links)
- [ ] If deviated from spec — describe deviation and reason
- [ ] Update user-spec/tech-spec if anything changed
